//
//  GitURLSessionMock.m
//  NetworkRequestPracticeTests
//
//  Created by Ran Zhuo on 2018-11-29.
//  Copyright Â© 2018 Ran Zhuo. All rights reserved.
//

#import "GitURLSessionMock.h"

NSString *encodedString = @"W3siaWQiOjE0NzM3MTk5Miwibm9kZV9pZCI6Ik1ERXdPbEpsY0c5emFYUnZjbmt4TkRjek56RTVPVEk9IiwibmFtZSI6ImRldiIsImZ1bGxfbmFtZSI6Imp1bHl6aHVvL2RldiIsInByaXZhdGUiOmZhbHNlLCJvd25lciI6eyJsb2dpbiI6Imp1bHl6aHVvIiwiaWQiOjQyOTcyODE4LCJub2RlX2lkIjoiTURRNlZYTmxjalF5T1RjeU9ERTQiLCJhdmF0YXJfdXJsIjoiaHR0cHM6Ly9hdmF0YXJzMy5naXRodWJ1c2VyY29udGVudC5jb20vdS80Mjk3MjgxOD92PTQiLCJncmF2YXRhcl9pZCI6IiIsInVybCI6Imh0dHBzOi8vYXBpLmdpdGh1Yi5jb20vdXNlcnMvanVseXpodW8iLCJodG1sX3VybCI6Imh0dHBzOi8vZ2l0aHViLmNvbS9qdWx5emh1byIsImZvbGxvd2Vyc191cmwiOiJodHRwczovL2FwaS5naXRodWIuY29tL3VzZXJzL2p1bHl6aHVvL2ZvbGxvd2VycyIsImZvbGxvd2luZ191cmwiOiJodHRwczovL2FwaS5naXRodWIuY29tL3VzZXJzL2p1bHl6aHVvL2ZvbGxvd2luZ3svb3RoZXJfdXNlcn0iLCJnaXN0c191cmwiOiJodHRwczovL2FwaS5naXRodWIuY29tL3VzZXJzL2p1bHl6aHVvL2dpc3Rzey9naXN0X2lkfSIsInN0YXJyZWRfdXJsIjoiaHR0cHM6Ly9hcGkuZ2l0aHViLmNvbS91c2Vycy9qdWx5emh1by9zdGFycmVkey9vd25lcn17L3JlcG99Iiwic3Vic2NyaXB0aW9uc191cmwiOiJodHRwczovL2FwaS5naXRodWIuY29tL3VzZXJzL2p1bHl6aHVvL3N1YnNjcmlwdGlvbnMiLCJvcmdhbml6YXRpb25zX3VybCI6Imh0dHBzOi8vYXBpLmdpdGh1Yi5jb20vdXNlcnMvanVseXpodW8vb3JncyIsInJlcG9zX3VybCI6Imh0dHBzOi8vYXBpLmdpdGh1Yi5jb20vdXNlcnMvanVseXpodW8vcmVwb3MiLCJldmVudHNfdXJsIjoiaHR0cHM6Ly9hcGkuZ2l0aHViLmNvbS91c2Vycy9qdWx5emh1by9ldmVudHN7L3ByaXZhY3l9IiwicmVjZWl2ZWRfZXZlbnRzX3VybCI6Imh0dHBzOi8vYXBpLmdpdGh1Yi5jb20vdXNlcnMvanVseXpodW8vcmVjZWl2ZWRfZXZlbnRzIiwidHlwZSI6IlVzZXIiLCJzaXRlX2FkbWluIjpmYWxzZX0sImh0bWxfdXJsIjoiaHR0cHM6Ly9naXRodWIuY29tL2p1bHl6aHVvL2RldiIsImRlc2NyaXB0aW9uIjpudWxsLCJmb3JrIjpmYWxzZSwidXJsIjoiaHR0cHM6Ly9hcGkuZ2l0aHViLmNvbS9yZXBvcy9qdWx5emh1by9kZXYiLCJmb3Jrc191cmwiOiJodHRwczovL2FwaS5naXRodWIuY29tL3JlcG9zL2p1bHl6aHVvL2Rldi9mb3JrcyIsImtleXNfdXJsIjoiaHR0cHM6Ly9hcGkuZ2l0aHViLmNvbS9yZXBvcy9qdWx5emh1by9kZXYva2V5c3sva2V5X2lkfSIsImNvbGxhYm9yYXRvcnNfdXJsIjoiaHR0cHM6Ly9hcGkuZ2l0aHViLmNvbS9yZXBvcy9qdWx5emh1by9kZXYvY29sbGFib3JhdG9yc3svY29sbGFib3JhdG9yfSIsInRlYW1zX3VybCI6Imh0dHBzOi8vYXBpLmdpdGh1Yi5jb20vcmVwb3MvanVseXpodW8vZGV2L3RlYW1zIiwiaG9va3NfdXJsIjoiaHR0cHM6Ly9hcGkuZ2l0aHViLmNvbS9yZXBvcy9qdWx5emh1by9kZXYvaG9va3MiLCJpc3N1ZV9ldmVudHNfdXJsIjoiaHR0cHM6Ly9hcGkuZ2l0aHViLmNvbS9yZXBvcy9qdWx5emh1by9kZXYvaXNzdWVzL2V2ZW50c3svbnVtYmVyfSIsImV2ZW50c191cmwiOiJodHRwczovL2FwaS5naXRodWIuY29tL3JlcG9zL2p1bHl6aHVvL2Rldi9ldmVudHMiLCJhc3NpZ25lZXNfdXJsIjoiaHR0cHM6Ly9hcGkuZ2l0aHViLmNvbS9yZXBvcy9qdWx5emh1by9kZXYvYXNzaWduZWVzey91c2VyfSIsImJyYW5jaGVzX3VybCI6Imh0dHBzOi8vYXBpLmdpdGh1Yi5jb20vcmVwb3MvanVseXpodW8vZGV2L2JyYW5jaGVzey9icmFuY2h9IiwidGFnc191cmwiOiJodHRwczovL2FwaS5naXRodWIuY29tL3JlcG9zL2p1bHl6aHVvL2Rldi90YWdzIiwiYmxvYnNfdXJsIjoiaHR0cHM6Ly9hcGkuZ2l0aHViLmNvbS9yZXBvcy9qdWx5emh1by9kZXYvZ2l0L2Jsb2Jzey9zaGF9IiwiZ2l0X3RhZ3NfdXJsIjoiaHR0cHM6Ly9hcGkuZ2l0aHViLmNvbS9yZXBvcy9qdWx5emh1by9kZXYvZ2l0L3RhZ3N7L3NoYX0iLCJnaXRfcmVmc191cmwiOiJodHRwczovL2FwaS5naXRodWIuY29tL3JlcG9zL2p1bHl6aHVvL2Rldi9naXQvcmVmc3svc2hhfSIsInRyZWVzX3VybCI6Imh0dHBzOi8vYXBpLmdpdGh1Yi5jb20vcmVwb3MvanVseXpodW8vZGV2L2dpdC90cmVlc3svc2hhfSIsInN0YXR1c2VzX3VybCI6Imh0dHBzOi8vYXBpLmdpdGh1Yi5jb20vcmVwb3MvanVseXpodW8vZGV2L3N0YXR1c2VzL3tzaGF9IiwibGFuZ3VhZ2VzX3VybCI6Imh0dHBzOi8vYXBpLmdpdGh1Yi5jb20vcmVwb3MvanVseXpodW8vZGV2L2xhbmd1YWdlcyIsInN0YXJnYXplcnNfdXJsIjoiaHR0cHM6Ly9hcGkuZ2l0aHViLmNvbS9yZXBvcy9qdWx5emh1by9kZXYvc3RhcmdhemVycyIsImNvbnRyaWJ1dG9yc191cmwiOiJodHRwczovL2FwaS5naXRodWIuY29tL3JlcG9zL2p1bHl6aHVvL2Rldi9jb250cmlidXRvcnMiLCJzdWJzY3JpYmVyc191cmwiOiJodHRwczovL2FwaS5naXRodWIuY29tL3JlcG9zL2p1bHl6aHVvL2Rldi9zdWJzY3JpYmVycyIsInN1YnNjcmlwdGlvbl91cmwiOiJodHRwczovL2FwaS5naXRodWIuY29tL3JlcG9zL2p1bHl6aHVvL2Rldi9zdWJzY3JpcHRpb24iLCJjb21taXRzX3VybCI6Imh0dHBzOi8vYXBpLmdpdGh1Yi5jb20vcmVwb3MvanVseXpodW8vZGV2L2NvbW1pdHN7L3NoYX0iLCJnaXRfY29tbWl0c191cmwiOiJodHRwczovL2FwaS5naXRodWIuY29tL3JlcG9zL2p1bHl6aHVvL2Rldi9naXQvY29tbWl0c3svc2hhfSIsImNvbW1lbnRzX3VybCI6Imh0dHBzOi8vYXBpLmdpdGh1Yi5jb20vcmVwb3MvanVseXpodW8vZGV2L2NvbW1lbnRzey9udW1iZXJ9IiwiaXNzdWVfY29tbWVudF91cmwiOiJodHRwczovL2FwaS5naXRodWIuY29tL3JlcG9zL2p1bHl6aHVvL2Rldi9pc3N1ZXMvY29tbWVudHN7L251bWJlcn0iLCJjb250ZW50c191cmwiOiJodHRwczovL2FwaS5naXRodWIuY29tL3JlcG9zL2p1bHl6aHVvL2Rldi9jb250ZW50cy97K3BhdGh9IiwiY29tcGFyZV91cmwiOiJodHRwczovL2FwaS5naXRodWIuY29tL3JlcG9zL2p1bHl6aHVvL2Rldi9jb21wYXJlL3tiYXNlfS4uLntoZWFkfSIsIm1lcmdlc191cmwiOiJodHRwczovL2FwaS5naXRodWIuY29tL3JlcG9zL2p1bHl6aHVvL2Rldi9tZXJnZXMiLCJhcmNoaXZlX3VybCI6Imh0dHBzOi8vYXBpLmdpdGh1Yi5jb20vcmVwb3MvanVseXpodW8vZGV2L3thcmNoaXZlX2Zvcm1hdH17L3JlZn0iLCJkb3dubG9hZHNfdXJsIjoiaHR0cHM6Ly9hcGkuZ2l0aHViLmNvbS9yZXBvcy9qdWx5emh1by9kZXYvZG93bmxvYWRzIiwiaXNzdWVzX3VybCI6Imh0dHBzOi8vYXBpLmdpdGh1Yi5jb20vcmVwb3MvanVseXpodW8vZGV2L2lzc3Vlc3svbnVtYmVyfSIsInB1bGxzX3VybCI6Imh0dHBzOi8vYXBpLmdpdGh1Yi5jb20vcmVwb3MvanVseXpodW8vZGV2L3B1bGxzey9udW1iZXJ9IiwibWlsZXN0b25lc191cmwiOiJodHRwczovL2FwaS5naXRodWIuY29tL3JlcG9zL2p1bHl6aHVvL2Rldi9taWxlc3RvbmVzey9udW1iZXJ9Iiwibm90aWZpY2F0aW9uc191cmwiOiJodHRwczovL2FwaS5naXRodWIuY29tL3JlcG9zL2p1bHl6aHVvL2Rldi9ub3RpZmljYXRpb25zez9zaW5jZSxhbGwscGFydGljaXBhdGluZ30iLCJsYWJlbHNfdXJsIjoiaHR0cHM6Ly9hcGkuZ2l0aHViLmNvbS9yZXBvcy9qdWx5emh1by9kZXYvbGFiZWxzey9uYW1lfSIsInJlbGVhc2VzX3VybCI6Imh0dHBzOi8vYXBpLmdpdGh1Yi5jb20vcmVwb3MvanVseXpodW8vZGV2L3JlbGVhc2Vzey9pZH0iLCJkZXBsb3ltZW50c191cmwiOiJodHRwczovL2FwaS5naXRodWIuY29tL3JlcG9zL2p1bHl6aHVvL2Rldi9kZXBsb3ltZW50cyIsImNyZWF0ZWRfYXQiOiIyMDE4LTA5LTA0VDE1OjU5OjQzWiIsInVwZGF0ZWRfYXQiOiIyMDE4LTA5LTExVDA0OjEwOjU2WiIsInB1c2hlZF9hdCI6IjIwMTgtMDktMTFUMTM6MDY6MjlaIiwiZ2l0X3VybCI6ImdpdDovL2dpdGh1Yi5jb20vanVseXpodW8vZGV2LmdpdCIsInNzaF91cmwiOiJnaXRAZ2l0aHViLmNvbTpqdWx5emh1by9kZXYuZ2l0IiwiY2xvbmVfdXJsIjoiaHR0cHM6Ly9naXRodWIuY29tL2p1bHl6aHVvL2Rldi5naXQiLCJzdm5fdXJsIjoiaHR0cHM6Ly9naXRodWIuY29tL2p1bHl6aHVvL2RldiIsImhvbWVwYWdlIjpudWxsLCJzaXplIjo3LCJzdGFyZ2F6ZXJzX2NvdW50IjowLCJ3YXRjaGVyc19jb3VudCI6MCwibGFuZ3VhZ2UiOm51bGwsImhhc19pc3N1ZXMiOnRydWUsImhhc19wcm9qZWN0cyI6dHJ1ZSwiaGFzX2Rvd25sb2FkcyI6dHJ1ZSwiaGFzX3dpa2kiOnRydWUsImhhc19wYWdlcyI6ZmFsc2UsImZvcmtzX2NvdW50IjowLCJtaXJyb3JfdXJsIjpudWxsLCJhcmNoaXZlZCI6ZmFsc2UsIm9wZW5faXNzdWVzX2NvdW50IjowLCJsaWNlbnNlIjpudWxsLCJmb3JrcyI6MCwib3Blbl9pc3N1ZXMiOjAsIndhdGNoZXJzIjowLCJkZWZhdWx0X2JyYW5jaCI6Im1hc3RlciIsInBlcm1pc3Npb25zIjp7ImFkbWluIjp0cnVlLCJwdXNoIjp0cnVlLCJwdWxsIjp0cnVlfX1d";

@implementation GitURLSessionMock
- (instancetype)init
{
    self = [super init];
    if (self) {
        self.dataEncodedFromString = [[NSData alloc] initWithBase64EncodedString:encodedString options:0];
    }
    return self;
}

- (void)setUrlRequest:(NSURLRequest *)urlRequest {
    _urlRequest = urlRequest;
}
- (NSURLSessionTask *)dataTaskWithRequest:(NSURLRequest *)urlRequest completionHandler:(void (^)(NSData * _Nullable, NSURLResponse * _Nullable, NSError * _Nullable))completionHandler
{
    self.urlRequest = urlRequest;
    return [[NSURLSession sharedSession] dataTaskWithRequest:urlRequest completionHandler:^(NSData * _Nullable data, NSURLResponse * _Nullable response, NSError * _Nullable error) {
        completionHandler(self.dataEncodedFromString, response, error);
    }];
}
@end
